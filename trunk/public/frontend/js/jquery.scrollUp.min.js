/*
 
 scrollup v2.3.3
 Author: Mark Goodyear - http://markgoodyear.com
 Git: https://github.com/markgoodyear/scrollup
 
 Copyright 2014 Mark Goodyear.
 Licensed under the MIT license
 http://www.opensource.org/licenses/mit-license.php
 
 Twitter: @markgdyr
 
 */
!function (a, b, c) {
    a.fn.scrollUp = function (b) {
        a.data(c.body, "scrollUp") || (a.data(c.body, "scrollUp", !0), a.fn.scrollUp.init(b))
    },
            a.fn.scrollUp.init = function (d) {
                var e,
                        f = a.fn.scrollUp.settings = a.extend({}, a.fn.scrollUp.defaults, d);
                e = f.scrollTrigger ? a(f.scrollTrigger) : a("<a/>", {
                    id: f.scrollName,
                    href: "#top"
                }),
                        f.scrollTitle && e.attr("title", f.scrollTitle),
                        e.appendTo("body"),
                        f.scrollImg || f.scrollTrigger || e.html(f.scrollText),
                        e.css({
                            display: "none",
                            position: "fixed",
                            zIndex: f.zIndex
                        }),
                        f.activeOverlay && a("<div/>", {
                            id: f.scrollName + "-active"
                        }).css({
                    position: "absolute",
                    top: f.scrollDistance + "px",
                    width: "100%",
                    borderTop: "1px dotted" + f.activeOverlay,
                    zIndex: f.zIndex
                }).appendTo("body");
                var g,
                        h,
                        i,
                        j;
                switch (f.animation) {
                    case "fade":
                        g = "fadeIn",
                                h = "fadeOut",
                                i = f.animationSpeed;
                        break;
                    case "slide":
                        g = "slideDown",
                                h = "slideUp",
                                i = f.animationSpeed;
                        break;
                    default:
                        g = "show",
                                h = "hide",
                                i = 0
                }
                j = "top" === f.scrollFrom ? f.scrollDistance : a(c).height() - a(b).height() - f.scrollDistance;
                var k = !1;
                var lastScrollTop = 0;
                scrollEvent = a(b).scroll(function () {
                    var onscroll = a(b).scrollTop();
                    if (onscroll > lastScrollTop) {
                        sticky(onscroll, k);
                    } else {
                        sticky(onscroll, k);
                    }
                    lastScrollTop = onscroll;

                    if (k == false) {
                        jQuery('.menu-fixed').hide();
                    } else {
                        jQuery('.menu-fixed').show();
                    }
                    a(b).scrollTop() > j ? k || (e[g](i), k = !0) : k && (e[h](i), k = !1)
                });
                var l;
                f.scrollTarget ? "number" == typeof f.scrollTarget ? l = f.scrollTarget : "string" == typeof f.scrollTarget && (l = Math.floor(a(f.scrollTarget).offset().top)) : l = 0,
                        e.click(function (b) {
                            b.preventDefault(),
                                    a("html, body").animate({
                                scrollTop: l
                            }, f.scrollSpeed, f.easingType)
                        })
            },
            a.fn.scrollUp.defaults = {
                scrollName: "scrollUp",
                scrollDistance: 300,
                scrollFrom: "top",
                scrollSpeed: 300,
                easingType: "linear",
                animation: "fade",
                animationSpeed: 200,
                scrollTrigger: !1,
                scrollTarget: !1,
                scrollText: "Scroll to top",
                scrollTitle: !1,
                scrollImg: !1,
                activeOverlay: !1,
                zIndex: 2147483647
            },
    a.fn.scrollUp.destroy = function (d) {
        a.removeData(c.body, "scrollUp"),
                a("#" + a.fn.scrollUp.settings.scrollName).remove(),
                a("#" + a.fn.scrollUp.settings.scrollName + "-active").remove(),
                a.fn.jquery.split(".")[1] >= 7 ? a(b).off("scroll", d) : a(b).unbind("scroll", d)
    },
            a.scrollUp = a.fn.scrollUp
}
(jQuery, window, document);

(function ($) {
    jQuery('li.search, li.search input').bind("click", function (e) {
        e.stopPropagation();
    });

    jQuery('li.search input').bind("click", function () {
        return false;
    });

    jQuery('li.search').bind("click", function () {

        if (jQuery(this).hasClass('open')) {

            //disable_overlay();
            //enable_scroll();
            jQuery(this).removeClass('open');

        } else {

            //enable_overlay();
            //disable_scroll();
            jQuery(this).addClass('open');
            jQuery('li.quick-cart').removeClass('open'); // close quick cart

        }

    });

    // 'esc' key
    jQuery(document).keydown(function (e) {
        var code = e.keyCode ? e.keyCode : e.which;
        if (code == 27) {
            jQuery('li.search, li.quick-cart').removeClass('open');
            //disable_overlay();
            //enable_scroll();
        }
    });

    jQuery(document).bind("click", function () {
        if (jQuery('li.search').hasClass('open')) {
            jQuery('li.search, li.quick-cart').removeClass('open');
            //disable_overlay();
            //enable_scroll();
        }
    });
}(jQuery));

function sticky(onscroll, k) {
    if (onscroll >= 208 && onscroll <= 300) {
        jQuery('.left-sidebar').addClass('sticky');
        jQuery('.right-sidebar').addClass('sticky');
    } else if (onscroll == 0 || onscroll < 208) {
        jQuery('.left-sidebar').removeClass('sticky');
        jQuery('.right-sidebar').removeClass('sticky');
    }
}